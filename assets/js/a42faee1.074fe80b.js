"use strict";(self.webpackChunkllamanator_docs=self.webpackChunkllamanator_docs||[]).push([[7852],{5834:(e,a,l)=>{l.r(a),l.d(a,{assets:()=>P,contentTitle:()=>N,default:()=>T,frontMatter:()=>D,metadata:()=>k,toc:()=>R});var n=l(4848),s=l(8453),r=l(6540),o=l(4164),t=l(3104),i=l(6347),d=l(205),c=l(7485),u=l(1682),h=l(9466);function m(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:a}=e;return!!a&&"object"==typeof a&&"value"in a}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function p(e){const{values:a,children:l}=e;return(0,r.useMemo)((()=>{const e=a??function(e){return m(e).map((e=>{let{props:{value:a,label:l,attributes:n,default:s}}=e;return{value:a,label:l,attributes:n,default:s}}))}(l);return function(e){const a=(0,u.X)(e,((e,a)=>e.value===a.value));if(a.length>0)throw new Error(`Docusaurus error: Duplicate values "${a.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[a,l])}function x(e){let{value:a,tabValues:l}=e;return l.some((e=>e.value===a))}function j(e){let{queryString:a=!1,groupId:l}=e;const n=(0,i.W6)(),s=function(e){let{queryString:a=!1,groupId:l}=e;if("string"==typeof a)return a;if(!1===a)return null;if(!0===a&&!l)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return l??null}({queryString:a,groupId:l});return[(0,c.aZ)(s),(0,r.useCallback)((e=>{if(!s)return;const a=new URLSearchParams(n.location.search);a.set(s,e),n.replace({...n.location,search:a.toString()})}),[s,n])]}function b(e){const{defaultValue:a,queryString:l=!1,groupId:n}=e,s=p(e),[o,t]=(0,r.useState)((()=>function(e){let{defaultValue:a,tabValues:l}=e;if(0===l.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(a){if(!x({value:a,tabValues:l}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${a}" but none of its children has the corresponding value. Available values are: ${l.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return a}const n=l.find((e=>e.default))??l[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:a,tabValues:s}))),[i,c]=j({queryString:l,groupId:n}),[u,m]=function(e){let{groupId:a}=e;const l=function(e){return e?`docusaurus.tab.${e}`:null}(a),[n,s]=(0,h.Dv)(l);return[n,(0,r.useCallback)((e=>{l&&s.set(e)}),[l,s])]}({groupId:n}),b=(()=>{const e=i??u;return x({value:e,tabValues:s})?e:null})();(0,d.A)((()=>{b&&t(b)}),[b]);return{selectedValue:o,selectValue:(0,r.useCallback)((e=>{if(!x({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);t(e),c(e),m(e)}),[c,m,s]),tabValues:s}}var g=l(2303);const v={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function f(e){let{className:a,block:l,selectedValue:s,selectValue:r,tabValues:i}=e;const d=[],{blockElementScrollPositionUntilNextRender:c}=(0,t.a_)(),u=e=>{const a=e.currentTarget,l=d.indexOf(a),n=i[l].value;n!==s&&(c(a),r(n))},h=e=>{let a=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const l=d.indexOf(e.currentTarget)+1;a=d[l]??d[0];break}case"ArrowLeft":{const l=d.indexOf(e.currentTarget)-1;a=d[l]??d[d.length-1];break}}a?.focus()};return(0,n.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.A)("tabs",{"tabs--block":l},a),children:i.map((e=>{let{value:a,label:l,attributes:r}=e;return(0,n.jsx)("li",{role:"tab",tabIndex:s===a?0:-1,"aria-selected":s===a,ref:e=>d.push(e),onKeyDown:h,onClick:u,...r,className:(0,o.A)("tabs__item",v.tabItem,r?.className,{"tabs__item--active":s===a}),children:l??a},a)}))})}function w(e){let{lazy:a,children:l,selectedValue:s}=e;const o=(Array.isArray(l)?l:[l]).filter(Boolean);if(a){const e=o.find((e=>e.props.value===s));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return(0,n.jsx)("div",{className:"margin-top--md",children:o.map(((e,a)=>(0,r.cloneElement)(e,{key:a,hidden:e.props.value!==s})))})}function y(e){const a=b(e);return(0,n.jsxs)("div",{className:(0,o.A)("tabs-container",v.tabList),children:[(0,n.jsx)(f,{...e,...a}),(0,n.jsx)(w,{...e,...a})]})}function A(e){const a=(0,g.A)();return(0,n.jsx)(y,{...e,children:m(e.children)},String(a))}const I={tabItem:"tabItem_Ymn6"};function O(e){let{children:a,hidden:l,className:s}=e;return(0,n.jsx)("div",{role:"tabpanel",className:(0,o.A)(I.tabItem,s),hidden:l,children:a})}const D={sidebar_position:1},N="Ollama",k={id:"llamanator-projects/project-deep-dives/ollama",title:"Ollama",description:"Ollama. Get up and running with large language models. Run Llama 3, Mistral, Gemma, and other models. Customize and create your own.",source:"@site/docs/llamanator-projects/project-deep-dives/ollama.md",sourceDirName:"llamanator-projects/project-deep-dives",slug:"/llamanator-projects/project-deep-dives/ollama",permalink:"/docs/llamanator-projects/project-deep-dives/ollama",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/llamanator-projects/project-deep-dives/ollama.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Project Deep Dives",permalink:"/docs/category/project-deep-dives"},next:{title:"OpenWebUI",permalink:"/docs/llamanator-projects/project-deep-dives/openwebui"}},P={},R=[{value:"Installing Ollama on Linux",id:"installing-ollama-on-linux",level:2},{value:"AMD Radeon GPU support",id:"amd-radeon-gpu-support",level:2},{value:"Manual install",id:"manual-install",level:2},{value:"Download the <code>ollama</code> binary",id:"download-the-ollama-binary",level:3},{value:"Adding Ollama as a startup service (recommended)",id:"adding-ollama-as-a-startup-service-recommended",level:3},{value:"Install CUDA drivers (optional \u2013 for Nvidia GPUs)",id:"install-cuda-drivers-optional--for-nvidia-gpus",level:3},{value:"Install ROCm (optional - for Radeon GPUs)",id:"install-rocm-optional---for-radeon-gpus",level:3},{value:"Start Ollama",id:"start-ollama",level:3},{value:"Update",id:"update",level:2},{value:"Viewing logs",id:"viewing-logs",level:2},{value:"Uninstall",id:"uninstall",level:2},{value:"System Requirements",id:"system-requirements",level:2},{value:"API Access",id:"api-access",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2}];function C(e){const a={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.h1,{id:"ollama",children:"Ollama"}),"\n",(0,n.jsx)(a.p,{children:"Ollama. Get up and running with large language models. Run Llama 3, Mistral, Gemma, and other models. Customize and create your own."}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["Website: ",(0,n.jsx)(a.a,{href:"https://ollama.com",children:"https://ollama.com"})]}),"\n",(0,n.jsxs)(a.li,{children:["Github: ",(0,n.jsx)(a.a,{href:"https://github.com/ollama/ollama",children:"https://github.com/ollama/ollama"})]}),"\n",(0,n.jsxs)(a.li,{children:["Docs: ",(0,n.jsx)(a.a,{href:"https://github.com/ollama/ollama/tree/main/docs",children:"https://github.com/ollama/ollama/tree/main/docs"})]}),"\n"]}),"\n",(0,n.jsx)(a.hr,{}),"\n","\n",(0,n.jsxs)(A,{children:[(0,n.jsxs)(O,{value:"Linux",label:"Linux",default:!0,children:[(0,n.jsx)(a.h2,{id:"installing-ollama-on-linux",children:"Installing Ollama on Linux"}),(0,n.jsx)(a.p,{children:"Install Ollama running this one-liner:"}),(0,n.jsx)(a.blockquote,{children:"\n"}),(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-bash",children:"curl -fsSL https://ollama.com/install.sh | sh\n"})}),(0,n.jsx)(a.h2,{id:"amd-radeon-gpu-support",children:"AMD Radeon GPU support"}),(0,n.jsxs)(a.p,{children:["While AMD has contributed the ",(0,n.jsx)(a.code,{children:"amdgpu"})," driver upstream to the official linux\nkernel source, the version is older and may not support all ROCm features. We\nrecommend you install the latest driver from\n",(0,n.jsx)(a.a,{href:"https://www.amd.com/en/support/linux-drivers",children:"https://www.amd.com/en/support/linux-drivers"})," for best support of your Radeon\nGPU."]}),(0,n.jsx)(a.h2,{id:"manual-install",children:"Manual install"}),(0,n.jsxs)(a.h3,{id:"download-the-ollama-binary",children:["Download the ",(0,n.jsx)(a.code,{children:"ollama"})," binary"]}),(0,n.jsx)(a.p,{children:"Ollama is distributed as a self-contained binary. Download it to a directory in your PATH:"}),(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-bash",children:"sudo curl -L https://ollama.com/download/ollama-linux-amd64 -o /usr/bin/ollama\nsudo chmod +x /usr/bin/ollama\n"})}),(0,n.jsx)(a.h3,{id:"adding-ollama-as-a-startup-service-recommended",children:"Adding Ollama as a startup service (recommended)"}),(0,n.jsx)(a.p,{children:"Create a user for Ollama:"}),(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-bash",children:"sudo useradd -r -s /bin/false -m -d /usr/share/ollama ollama\n"})}),(0,n.jsxs)(a.p,{children:["Create a service file in ",(0,n.jsx)(a.code,{children:"/etc/systemd/system/ollama.service"}),":"]}),(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-ini",children:"[Unit]\nDescription=Ollama Service\nAfter=network-online.target\n\n[Service]\nExecStart=/usr/bin/ollama serve\nUser=ollama\nGroup=ollama\nRestart=always\nRestartSec=3\n\n[Install]\nWantedBy=default.target\n"})}),(0,n.jsx)(a.p,{children:"Then start the service:"}),(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-bash",children:"sudo systemctl daemon-reload\nsudo systemctl enable ollama\n"})}),(0,n.jsx)(a.h3,{id:"install-cuda-drivers-optional--for-nvidia-gpus",children:"Install CUDA drivers (optional \u2013 for Nvidia GPUs)"}),(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.a,{href:"https://developer.nvidia.com/cuda-downloads",children:"Download and install"})," CUDA."]}),(0,n.jsx)(a.p,{children:"Verify that the drivers are installed by running the following command, which should print details about your GPU:"}),(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-bash",children:"nvidia-smi\n"})}),(0,n.jsx)(a.h3,{id:"install-rocm-optional---for-radeon-gpus",children:"Install ROCm (optional - for Radeon GPUs)"}),(0,n.jsx)(a.p,{children:(0,n.jsx)(a.a,{href:"https://rocm.docs.amd.com/projects/install-on-linux/en/latest/tutorial/quick-start.html",children:"Download and Install"})}),(0,n.jsx)(a.p,{children:"Make sure to install ROCm v6"}),(0,n.jsx)(a.h3,{id:"start-ollama",children:"Start Ollama"}),(0,n.jsxs)(a.p,{children:["Start Ollama using ",(0,n.jsx)(a.code,{children:"systemd"}),":"]}),(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-bash",children:"sudo systemctl start ollama\n"})}),(0,n.jsx)(a.h2,{id:"update",children:"Update"}),(0,n.jsx)(a.p,{children:"Update ollama by running the install script again:"}),(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-bash",children:"curl -fsSL https://ollama.com/install.sh | sh\n"})}),(0,n.jsx)(a.p,{children:"Or by downloading the ollama binary:"}),(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-bash",children:"sudo curl -L https://ollama.com/download/ollama-linux-amd64 -o /usr/bin/ollama\nsudo chmod +x /usr/bin/ollama\n"})}),(0,n.jsx)(a.h2,{id:"viewing-logs",children:"Viewing logs"}),(0,n.jsx)(a.p,{children:"To view logs of Ollama running as a startup service, run:"}),(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-bash",children:"journalctl -u ollama\n"})}),(0,n.jsx)(a.h2,{id:"uninstall",children:"Uninstall"}),(0,n.jsx)(a.p,{children:"Remove the ollama service:"}),(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-bash",children:"sudo systemctl stop ollama\nsudo systemctl disable ollama\nsudo rm /etc/systemd/system/ollama.service\n"})}),(0,n.jsxs)(a.p,{children:["Remove the ollama binary from your bin directory (either ",(0,n.jsx)(a.code,{children:"/usr/local/bin"}),", ",(0,n.jsx)(a.code,{children:"/usr/bin"}),", or ",(0,n.jsx)(a.code,{children:"/bin"}),"):"]}),(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-bash",children:"sudo rm $(which ollama)\n"})}),(0,n.jsx)(a.p,{children:"Remove the downloaded models and Ollama service user and group:"}),(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-bash",children:"sudo rm -r /usr/share/ollama\nsudo userdel ollama\nsudo groupdel ollama\n"})})]}),(0,n.jsx)(O,{value:"Mac",label:"Mac",children:(0,n.jsx)(a.p,{children:"COMING SOON!"})}),(0,n.jsxs)(O,{value:"Windows",label:"Windows",children:[(0,n.jsx)(a.p,{children:"Welcome to the Ollama Windows preview."}),(0,n.jsx)(a.p,{children:"No more WSL required!"}),(0,n.jsxs)(a.p,{children:["Ollama now runs as a native Windows application, including NVIDIA and AMD Radeon GPU support.\nAfter installing Ollama Windows Preview, Ollama will run in the background and\nthe ",(0,n.jsx)(a.code,{children:"ollama"})," command line is available in ",(0,n.jsx)(a.code,{children:"cmd"}),", ",(0,n.jsx)(a.code,{children:"powershell"})," or your favorite\nterminal application. As usual the Ollama ",(0,n.jsx)(a.a,{href:"https://github.com/ollama/ollama/blob/main/docs/api.md",children:"api"})," will be served on\n",(0,n.jsx)(a.code,{children:"http://localhost:11434"}),"."]}),(0,n.jsxs)(a.p,{children:["As this is a preview release, you should expect a few bugs here and there.  If\nyou run into a problem you can reach out on\n",(0,n.jsx)(a.a,{href:"https://discord.gg/ollama",children:"Discord"}),", or file an\n",(0,n.jsx)(a.a,{href:"https://github.com/ollama/ollama/issues",children:"issue"}),".\nLogs will often be helpful in dianosing the problem (see\n",(0,n.jsx)(a.a,{href:"#troubleshooting",children:"Troubleshooting"})," below)"]}),(0,n.jsx)(a.h2,{id:"system-requirements",children:"System Requirements"}),(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:"Windows 10 or newer, Home or Pro"}),"\n",(0,n.jsx)(a.li,{children:"NVIDIA 452.39 or newer Drivers if you have an NVIDIA card"}),"\n",(0,n.jsxs)(a.li,{children:["AMD Radeon Driver ",(0,n.jsx)(a.a,{href:"https://www.amd.com/en/support",children:"https://www.amd.com/en/support"})," if you have a Radeon card"]}),"\n"]}),(0,n.jsx)(a.h2,{id:"api-access",children:"API Access"}),(0,n.jsxs)(a.p,{children:["Here's a quick example showing API access from ",(0,n.jsx)(a.code,{children:"powershell"})]}),(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-powershell",children:'(Invoke-WebRequest -method POST -Body \'{"model":"llama2", "prompt":"Why is the sky blue?", "stream": false}\' -uri http://localhost:11434/api/generate ).Content | ConvertFrom-json\n'})}),(0,n.jsx)(a.h2,{id:"troubleshooting",children:"Troubleshooting"}),(0,n.jsxs)(a.p,{children:["While we're in preview, ",(0,n.jsx)(a.code,{children:"OLLAMA_DEBUG"}),' is always enabled, which adds\na "view logs" menu item to the app, and increses logging for the GUI app and\nserver.']}),(0,n.jsxs)(a.p,{children:["Ollama on Windows stores files in a few different locations.  You can view them in\nthe explorer window by hitting ",(0,n.jsx)(a.code,{children:"<cmd>+R"})," and type in:"]}),(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.code,{children:"explorer %LOCALAPPDATA%\\Ollama"})," contains logs, and downloaded updates"]}),"\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.em,{children:"app.log"})," contains logs from the GUI application"]}),"\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.em,{children:"server.log"})," contains the server logs"]}),"\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.em,{children:"upgrade.log"})," contains log output for upgrades"]}),"\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.code,{children:"explorer %LOCALAPPDATA%\\Programs\\Ollama"})," contains the binaries (The installer adds this to your user PATH)"]}),"\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.code,{children:"explorer %HOMEPATH%\\.ollama"})," contains models and configuration"]}),"\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.code,{children:"explorer %TEMP%"})," contains temporary executable files in one or more ",(0,n.jsx)(a.code,{children:"ollama*"})," directories"]}),"\n"]})]})]})]})}function T(e={}){const{wrapper:a}={...(0,s.R)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(C,{...e})}):C(e)}},8453:(e,a,l)=>{l.d(a,{R:()=>o,x:()=>t});var n=l(6540);const s={},r=n.createContext(s);function o(e){const a=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function t(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),n.createElement(r.Provider,{value:a},e.children)}}}]);